<!doctype html>
<html lang="zh" xmlns:th="http://www.thymeleaf.org" xmlns:layout="http://www.ultraq.net.nz/web/thymeleaf/layout" layout:decorate="~{theme/default/layout}">

<head>
    <title>[[${post.title}]] | [[${#servletContext.getAttribute('configMap')['blog_name']}]]</title>
    <meta charset="utf-8"/>
    <meta name="referrer" content="no-referrer" />
    [(${#servletContext.getAttribute('configMap')['meta_code']})]
    <meta name="keywords" th:content="${#servletContext.getAttribute('configMap')['keywords']}" />
    <meta name="description" th:content="${post.summary}" />
    <meta property="og:description" th:content="${post.summary}" />
    <meta property="og:title" th:content="${post.title + ' | ' + #servletContext.getAttribute('configMap')['blog_name']}" />
    <title>[[${post.title}]] | [[${#servletContext.getAttribute('configMap')['blog_name']}]]</title>
</head>
<body>

    <div id="wrap" class="content" layout:fragment="content">
    <!-- å›¾ç‰‡ -->
    <div class="image-banner" style="color: #fff">
        <div class="image-content"><img th:data-original="@{${post.coverUrl}}" class="lazyload"></div>
        <div class="descr">
            <a data-pjax th:href="@{/}">é¦–é¡µ  /  </a>
            <a href="javascript:void(0)">æ–‡ç« è¯¦æƒ…  /  </a>
            <a href="javascript:void(0)">[[${post.title}]]</a>
        </div>
        <div class="title">[[${post.title}]]</div>
    </div>

    <div class="ml-content">
        <div id="postContainer" class="postContainer">
            <header class="post-header">
                <div class="blogger-info">
                    <img class="hidden-xs" th:src="@{${#strings.isEmpty(#servletContext.getAttribute('configMap')['blog_avatar']) != true ? #servletContext.getAttribute('configMap')['blog_avatar'] :
                        (#strings.isEmpty(#servletContext.getAttribute('configMap')['logo_url']) !=true ? #servletContext.getAttribute('configMap')['logo_url'] : prefix + '/source/images/logo.png')}}">
                    <span class="blog-author">ğŸ˜Š [[${#servletContext.getAttribute('configMap')['blog_author']}]]</span>
                    <span class="post-date">ğŸ“… [[${post.year} + ' å¹´ ' + ${post.month} + ' æœˆ ' + ${post.day} + ' æ—¥']]</span>
                    <div class="post-nums">
                        <span>ğŸ”¥ [[${post.readNum}]]</span>&nbsp;&nbsp;
                        <span>ğŸ’¬ [[${post.commentNum}]]</span>
                    </div>
                </div>
            </header>
            <div class="alert alert-danger" th:if="${post.reprint == true}">
                <ul class="post-copyright">
                    <li>
                        <strong>åŸä½œè€…:</strong> <b> [[${post.author}]]</b>
                    </li>
                    <li>
                        <strong>åŸæ–‡é“¾æ¥:</strong>&nbsp;<a class="alert-link" th:href="@{${post.reprintLink}}" target="_blank" th:text="${post.reprintLink}"></a>
                    </li>
                </ul>
            </div>

            <div id="post-content" class="post-content" th:utext="${post.contentHtml}"></div>

            <div id="share" class="shareContainer">
                <div class="btns">
                    <button type="button" class="btn btn-success" id="priseBtn" th:data-id="${post.id}"><i class="fa fa-thumbs-o-up"></i> &nbsp;<span id="prizeCount">[[${post.praiseNum}]]</span></button>
                    <button type="button" class="btn btn-default" id="shareOpenBtn" style="margin-left: 1rem;"><i class="fa fa-share-square-o"></i> åˆ†äº«</button>
                </div>
                <div id="shareBtns" class="social-share" data-initialized="true">
                    <a href="#" class="social-share-icon icon-weibo"></a>
                    <a href="#" class="social-share-icon icon-qq"></a>
                    <a href="#" class="social-share-icon icon-qzone"></a>
                    <a href="#" class="social-share-icon icon-wechat"></a>
                </div>
            </div>

            <div class="text-center">
                    <span th:if="${#strings.isEmpty(#servletContext.getAttribute('configMap')['we_chat_gzh']) != true}">
                        <a href="javascript:void(0)" class="reward-img">
                            <img th:src="@{${#servletContext.getAttribute('configMap')['we_chat_gzh']}}" width="164" height="164" alt="å¾®ä¿¡å…¬ä¼—å·">
                            <div class="reward-desc" th:text="${#servletContext.getAttribute('configMap')['we_chat_gzh_comment']}"></div>
                        </a>
                    </span>
            </div>

            <div class="weChat-official-accounts" th:if="${#strings.isEmpty(#servletContext.getAttribute('configMap')['we_chat_official_account']) != true}">
                <h4>å…³æ³¨å¾®ä¿¡å…¬ä¼—å·</h4>
                <img class="lazyload" th:data-original="@{${#servletContext.getAttribute('configMap')['we_chat_official_account']}}">
            </div>

            <div id="reward" class="reward text-center">
                <button id="showRewardImg" type="button" class="btn btn-danger"><i class="fa fa-heartbeat"></i> æ‰“èµ</button>
                <p><b th:text="${#servletContext.getAttribute('configMap')['reward_comment']}"></b></p>
                <div id="rewardImgArea" class="reward-img-area hide">
                       <span th:if="${#strings.isEmpty(#servletContext.getAttribute('configMap')['reward_by_ali_pay']) != true}">
                            <a href="javascript:void(0)" class="reward-img">
                                <img th:src="@{${#servletContext.getAttribute('configMap')['reward_by_ali_pay']}}" width="164" height="164" alt="æ”¯ä»˜å®">
                                <div class="reward-desc">æ”¯ä»˜å®</div>
                            </a>
                       </span>
                    <span th:if="${#strings.isEmpty(#servletContext.getAttribute('configMap')['reward_by_we_chat_pay']) != true}">
                            <a href="javascript:void(0)" class="reward-img">
                                <img th:src="@{${#servletContext.getAttribute('configMap')['reward_by_we_chat_pay']}}" width="164" height="164" alt="å¾®ä¿¡">
                                <div class="reward-desc">å¾®ä¿¡</div>
                            </a>
                        </span>
                </div>
            </div>

            <div id="prizeMsg"></div>
            <div class="alert alert-info" role="alert">
                <ul class="post-copyright">
                    <li>
                        <strong>æœ¬æ–‡ä½œè€…:</strong> <b> [[${#servletContext.getAttribute('configMap')['blog_author']}]]</b>
                    </li>
                    <li>
                        <strong>æœ¬æ–‡é“¾æ¥:</strong>&nbsp;<a id="shareUrl" class="alert-link" th:href="@{${#servletContext.getAttribute('configMap')['home_page']} + '/'+${post.link}}" target="_blank" th:text="${#servletContext.getAttribute('configMap')['home_page']+'/'+ post.link}"></a>
                    </li>
                    <li>
                        <strong>ç‰ˆæƒå£°æ˜:</strong> æœ¬åšå®¢æ‰€æœ‰æ–‡ç« é™¤ç‰¹åˆ«å£°æ˜å¤–å‡ä¸ºåŸåˆ›ï¼Œé‡‡ç”¨ <a th:href="@{${#servletContext.getAttribute('configMap')['license_url']}}" class="alert-link" target="_blank" th:text="${#servletContext.getAttribute('configMap')['license']}"></a> è®¸å¯åè®®ã€‚è½¬è½½è¯·åœ¨æ–‡ç« å¼€å¤´æ˜æ˜¾ä½ç½®æ³¨æ˜åŸæ–‡é“¾æ¥å’Œä½œè€…ç­‰ç›¸å…³ä¿¡æ¯ï¼Œæ˜ç¡®æŒ‡å‡ºä¿®æ”¹ï¼ˆå¦‚æœ‰ï¼‰ï¼Œå¹¶é€šè¿‡ E-mail ç­‰æ–¹å¼å‘ŠçŸ¥ï¼Œè°¢è°¢åˆä½œï¼
                    </li>
                </ul>
            </div>
            <footer class="post-other-info">
                <a data-pjax th:href="${'/' + previousPost.link}" class="prev pull-left" th:if="${#objects.nullSafe(previousPost, null)}">ä¸Šä¸€ç¯‡<span class="hidden-xs">ï¼šã€Š[[${previousPost.title}]]ã€‹</span></a>
                <a data-pjax th:href="${'/' + nextPost.link}" class="next pull-right" th:if="${#objects.nullSafe(nextPost, null)}">ä¸‹ä¸€ç¯‡<span class="hidden-xs">ï¼šã€Š[[${nextPost.title}]]ã€‹</span></a>
            </footer>
            <!-- ç›®å½• -->
            <div class="tocContainer hidden-xs" id="tocContainer"></div>
        </div>
    </div>

    <!-- è¯„è®º -->
    <script type="text/javascript" th:inline="javascript">
        window.canComment = [[${post.comment}]];
    </script>
    <div th:replace="~{theme/default/common :: comment}"></div>

</div>
</body>
</html>
